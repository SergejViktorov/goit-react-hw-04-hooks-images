(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__ZQUNX",ImageGalleryItemImage:"imageGalleryItem_ImageGalleryItemImage__J3VTm"}},14:function(e,t,a){e.exports={Overlay:"modal_Overlay__1wIXH",Modal:"modal_Modal__3D_ma"}},25:function(e,t,a){e.exports={App:"app_App__202UE",ModalImg:"app_ModalImg__2Jom5"}},26:function(e,t,a){e.exports={ImageGallery:"imageGallery_ImageGallery__opeM4"}},27:function(e,t,a){e.exports={Button:"button_Button__tKafM"}},6:function(e,t,a){e.exports={Searchbar:"searchbar_Searchbar__rG-mP",SearchForm:"searchbar_SearchForm__3y4kO",SearchFormButton:"searchbar_SearchFormButton__PVbcm",SearchFormButtonLabel:"searchbar_SearchFormButtonLabel__3ijKF",SearchFormInput:"searchbar_SearchFormInput__1wp4S"}},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),c=a.n(o),s=a(12),i=a.n(s),u=a(15),l=a(24),m=a(5),b=(a(34),a(25)),j=a.n(b),h=a(4),p=(a(35),a(10)),d=a.n(p);d.a.defaults.baseURL="https://pixabay.com/api/",d.a.defaults.params={key:"21922631-b9054864096d193e79c9fc0a3",image_type:"photo",orientation:"horizontal",per_page:12};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return d.a.get("",{params:{q:e,page:t}}).catch((function(e){return e.response?(h.b.error(e.response.data),h.b.error(e.response.status),h.b.error(e.response.headers)):e.request?h.b.error(e.request):h.b.error("Error",e.message),h.b.error("Error",e.config),console.log(e.config)}))},f=a(6),O=a.n(f),_=a(1);function x(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),o=n[0],c=n[1],s=function(){c("")};return Object(_.jsx)("header",{className:O.a.Searchbar,children:Object(_.jsxs)("form",{className:O.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s()):h.b.error("\u041d\u0435\u043a\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 !")},children:[Object(_.jsx)("button",{type:"submit",className:O.a.SearchFormButton,children:Object(_.jsx)("span",{className:O.a.SearchFormButtonLabel,children:"Search"})}),Object(_.jsx)("input",{className:O.a.SearchFormInput,type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())},name:"query"})]})})}var v=a(13),I=a.n(v),y=a(2),S=a.n(y),w=function(e){var t=e.id,a=e.webformatURL,r=e.openModal,n=e.largeImageURL;return Object(_.jsx)("li",{className:I.a.ImageGalleryItem,children:Object(_.jsx)("img",{src:a,alt:"",className:I.a.ImageGalleryItemImage,onClick:function(){return r(n)}})},t)};w.propTepes={id:S.a.number.isRequired,webformatURL:S.a.string.isRequired,openModal:S.a.func.isRequired,largeImageURL:S.a.string.isRequired,tags:S.a.string.isRequired};var F=w,L=a(26),R=a.n(L),k=function(e){var t=e.image,a=e.openModal;return Object(_.jsx)("ul",{className:R.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL,o=e.tags;return Object(_.jsx)(F,{id:t,webformatURL:r,largeImageURL:n,tags:o,openModal:a})}))})},M=a(14),G=a.n(M);function N(e){var t=e.onClose,a=e.children;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(_.jsx)("div",{className:G.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(_.jsx)("div",{className:G.a.Modal,children:a})})}var U=a(27),B=a.n(U),C=function(e){var t=e.onClick;return Object(_.jsx)("button",{type:"button",className:B.a.Button,onClick:t,children:"Load more ..."})},E=a(28),q=a.n(E),T=function(){return Object(_.jsx)(q.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e4,alignSelf:"center",justifyContent:"center",alignItems:"center"})};function J(e){e.largeImageURL;var t=Object(r.useState)([]),a=Object(m.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(""),s=Object(m.a)(c,2),b=s[0],p=s[1],d=Object(r.useState)(null),f=Object(m.a)(d,2),O=f[0],v=f[1],I=Object(r.useState)(!1),y=Object(m.a)(I,2),S=y[0],w=y[1],F=Object(r.useState)(1),L=Object(m.a)(F,2),R=L[0],M=L[1],G=Object(r.useState)(!1),U=Object(m.a)(G,2),B=U[0],E=U[1],q=Object(r.useState)(""),J=Object(m.a)(q,2),D=J[0],A=J[1],H=Object(r.useRef)(!0);Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),p(b),e.next=5,g(b,R);case 5:t=e.sent,o((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.data.hits))})),w(!1),n.length>0&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),v(e.t0.response.status),w(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}H.current?H.current=!1:function(){e.apply(this,arguments)}()}),[b,R]);var K=function(){E((function(e){return!e}))},P=n.length,V=O?Object(_.jsxs)("h2",{children:["\u0423\u043f\u0441, \u043e\u0448\u0438\u0431\u043a\u0430 ",O]}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(k,{image:n,openModal:function(e){A(e),K(),console.log(e)}})}),X=""===b?Object(_.jsx)("p",{children:"Enter what picture you want to find"}):V;return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{children:[Object(_.jsx)(x,{onSubmit:function(e){b!==e&&(p(e),M(1),o([]),v(null))}}),Object(_.jsx)(h.a,{position:"top-right",autoClose:4e3}),X,S&&Object(_.jsx)(T,{}),P>0&&Object(_.jsx)(C,{onClick:function(){M((function(e){return e+1}))}}),B&&Object(_.jsx)(N,{onClose:K,children:Object(_.jsx)("img",{src:D,alt:"",className:j.a.ModalImg})})]})})}a(75);c.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(J,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.83984205.chunk.js.map